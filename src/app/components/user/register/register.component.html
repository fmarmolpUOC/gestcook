<section>
    <div class="bd-example-container-body">
        <div class="row justify-content-md-center">
            <div class="card-wrapper">
                <div class="brand text-center bg-primary"><img src="assets\icons\Logo_llarg_b&w.png"></div>
                <div class="card ">
                    <div class="card-body">

                        <form #formRegister="ngForm" (submit)="onAddUser()">
                            <h4 class="card-title" *ngIf="!error">Registrar</h4>
                            <div class="alert alert-dismissible alert-danger" role="alert" *ngIf="error ">{{error}}</div>

                            <div class="form-group">
                                <label for="email">Correo electrónico</label>
                                <input [(ngModel)]="email" type="email" id="email " class="form-control" name="email" placeholder="Correo electrónico" autofocus required>
                            </div>

                            <div class="form-group ">
                                <label for="password">Contraseña</label>
                                <show-hide-password size="sm" icon="fontawesome" btnStyle="primary" [btnOutline]="false">
                                    <input [(ngModel)]="password" type="password" name="password" class="form-control" placeholder="Contraseña" id="password" minlength="6" required>
                                </show-hide-password>
                            </div>

                            <div class="form-group">
                                <h5>Imagen perfil:</h5>
                                <img [src]="url" height="200"> <br/>
                                <input type="file" accept=".png, .jpg" (change)=" onUpload($event); onSelectFile($event)">
                            </div>
                            <div class="progress">
                                <ng-template #charging>
                                    <div [style.visibility]="(uploadPercent == 0) ? 'hidden' : 'visible'" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuemin="0" aria-valuemax="100" [style.width]="(uploadPercent | async) +'%'">
                                    </div>
                                </ng-template>
                                <div *ngIf="urlImage | async; else charging" [style.visibility]="(uploadPercent == 100) ? 'hidden' : 'visible'" class="progress-bar progress-bar-striped bg-success" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width: 100%" aria-valuenow="100">
                                    <span class="progressText" *ngIf="urlImage | async">100%</span>
                                </div>
                            </div>
                            <input #imageUser type="hidden" [value]="urlImage | async">
                            <input *ngIf="urlImage | async; else btnDisabled" type="submit" value="Guardar" class="btn btn-primary btn-block">
                            <ng-template #btnDisabled>
                                <input type="submit" disabled=true value="Guardar" class="btn btn-secondary btn-block">
                            </ng-template>

                            <div class="margin-top20 text-center">
                                Tienes una cuenta? <a routerLink="/login">Iniciar sesión</a>
                            </div>

                        </form>

                        <div class="card-body text-center">
                            <button type="button" class="btn btn-outline-primary" routerLink="/landing">Volver</button>
                        </div>


                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="container">
    <router-outlet></router-outlet>
</div>